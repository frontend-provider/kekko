(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"031f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[n("config")],1)},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"text-h4 q-mb-md"},[e._v("Configuration")]),n("p",[e._v("Configure API Keys and other stuff here.")]),n("div",{staticClass:"text-h5"},[e._v("API Keys")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("q-list",{staticClass:"q-my-md",attrs:{separator:"",bordered:""}},[n("q-item-label",{attrs:{header:""}},[e._v("Available API Keys")]),n("q-separator"),e.apiKeySets.length?e._l(e.apiKeySets,(function(t){return n("q-item",{key:t},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"secondary",name:"vpn_key"}})],1),n("q-item-section",[n("q-item-label",{staticClass:"text-uppercase"},[e._v(e._s(t))])],1),n("q-item-section",{attrs:{side:"",right:""}},[n("q-item-section",[n("q-btn",{attrs:{flat:"",round:"",color:"red",icon:"delete_forever"},on:{click:function(n){return n.preventDefault(),e.removeApiKey(t)}}})],1)],1)],1)})):n("q-item",[n("q-item-label",[e._v("You do not have any API Keys setup.")])],1)],2)],1)]),e.addApiToggle?e._e():n("div",{staticClass:"row q-pa-sm",on:{click:function(t){return t.preventDefault(),e.openAddApi(t)}}},[n("q-btn",{attrs:{color:"primary",icon:"add_circle_outline",label:"Add API key"}})],1),e.addApiToggle?n("api-config-builder"):e._e()],1)},r=[],c=n("fa84"),o=n.n(c),l=n("967e"),u=n.n(l),d=n("af47"),h={methods:{deleteApiKey:function(e){return this.$axios.post(d["a"]+"removeApiKey",{exchange:e})},newApiKey:function(e){return this.$axios.post(d["a"]+"addApiKey",e)}}},f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row q-col-gutter-md justify-around items-baseline"},[e._m(0),n("div",{staticClass:"col-lg-6 col-md-12 q-col-gutter-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"text-h5"},[e._v("API Key data")]),n("exchange-picker",{attrs:{"only-tradeable":!0},on:{exchange:e.updateExchange}}),e._l(e.requires,(function(t,i){return n("q-input",{key:i,attrs:{label:t},model:{value:e.credentials[t],callback:function(n){e.$set(e.credentials,t,n)},expression:"credentials[cred]"}})})),n("q-btn",{staticClass:"q-mt-md",attrs:{color:"primary",label:"Add API Key",disable:!e.fieldsValid},on:{click:function(t){return t.preventDefault(),e.upload(t)}}})],2)]),n("div",{staticClass:"row"})])])},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-lg-6 col-md-12"},[n("div",{staticClass:"text-h5"},[e._v("Add an API key")]),n("div",{staticClass:"text-subtitle1"},[e._v("Make sure that the API key has the permissions to "),n("b",[e._v("create")]),e._v(" and "),n("b",[e._v("cancel\n      orders")]),e._v(" and "),n("b",[e._v("view balances")]),e._v(".\n    ")])])}],v=(n("2fdb"),n("6762"),n("be78")),g=(n("2ef0"),{mixins:[h],data:function(){return{exchange:!1,credentials:{}}},components:{exchangePicker:v["a"]},computed:{fieldsValid:function(){var e=!0,t=this;return this.requires.forEach((function(n){t.credentials[n]&&""!==t.credentials[n].trim()||(e=!1)})),e},apiKeySets:function(){return this.$store.state.config.apiKeys},exchanges:function(){return this.$store.state.config.exchanges},requires:function(){return this.exchanges&&this.exchange?this.exchanges[this.exchange].requires:[]},config:function(){var e={exchange:this.exchange,values:this.credentials};return e}},watch:{credentials:function(){this.emitConfig()}},methods:{updateExchange:function(e){this.credentials={},this.exchange=e,this.emitConfig()},emitConfig:function(){this.$emit("config",this.config)},upload:function(){var e=this,t=this.config.exchange;this.exchanges&&this.apiKeySets.includes(t)?this.$q.dialog({title:"Confirm Overwrite",message:"You already have an API key for [".concat(t,"] defined, do you want to overwrite them?"),cancel:!0,persistent:!0}).onOk((function(){e.uploadApiKey()})).onCancel((function(){})):this.uploadApiKey()},uploadApiKey:function(){var e=this;return o()(u.a.mark((function t(){var n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.config.exchange,t.prev=1,t.next=4,e.newApiKey(e.config);case 4:e.$q.notify({color:"positive",message:"API Key for [".concat(n,"] set."),icon:"check_circle"}),e.credentials={},t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$q.dialog({title:"Error",message:"Error setting new API Key: ".concat(t.t0),color:"negative",icon:"error"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}}),m=g,y=n("2877"),A=Object(y["a"])(m,f,p,!1,null,null,null),x=A.exports,_={mixins:[h],components:{apiConfigBuilder:x},data:function(){return{addApiToggle:!1}},methods:{openAddApi:function(){this.addApiToggle=!0},removeApiKey:function(e){var t=this;this.$q.dialog({title:"API Key removal",message:"Are you sure you want to delete the API key for ".concat(e,"?"),cancel:!0,persistent:!0}).onOk(o()(u.a.mark((function n(){return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.deleteApiKey(e);case 3:t.$q.notify({message:"API-Key for [".concat(e,"] has been removed."),color:"positive",icon:"check_circle"}),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),t.$q.notify({message:"An error occured while removing the API Key!",color:"negative",icon:"error"});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).onCancel((function(){}))}},computed:{apiKeySets:function(){return this.$store.state.config.apiKeys}},watch:{apiKeySets:function(){this.addApiToggle=!1}}},q=_,b=Object(y["a"])(q,s,r,!1,null,null,null),K=b.exports,w={name:"ConfigPage",components:{config:K}},C=w,k=Object(y["a"])(C,i,a,!1,null,null,null);t["default"]=k.exports}}]);