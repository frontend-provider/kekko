(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"1a90":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.candles.length?a("chart",{ref:"chart",staticClass:"full-width",attrs:{options:t.dynOptions,"auto-resize":""}}):t._e()},i=[],n=a("4db1"),s=a.n(n),o=(a("456d"),a("28a5"),a("20d6"),a("6d67"),a("7f7f"),a("23bf"),a("c5f6"),a("2ef0")),c=a.n(o),l=(a("ef97"),a("94b1"),a("085d"),a("007d"),a("0a6d"),a("d28f"),a("af24"),a("cb8f"),a("627c"),a("0352"),a("db0e"),a("95a8"),a("9ca8")),d=a("c1df"),u=a.n(d),h=window.CONFIG.userChartConfig&&window.CONFIG.userChartConfig.indicators||[],f=window.CONFIG.userChartConfig&&window.CONFIG.userChartConfig.patterns||[],m=window.CONFIG.userChartConfig&&window.CONFIG.userChartConfig.overlays||[],p=[],g=[].concat(s()(m),["ovr","avgprice","bbands","dema","ema","hma","ht_trendline","kama","linreg","ma","mama","medprice","midprice","psar","sma","t3","tema","trima","tsf","typprice","vidya","vwma","wclprice","wcprice","wilders","wma","zlema","short","medium","long"]),y=[].concat(s()(f),["cdl2crows","cdl3blackcrows","cdl3inside","cdl3linestrike","cdl3outside","cdl3starsinsouth","cdl3whitesoldiers","cdlabandonedbaby","cdladvanceblock","cdlbelthold","cdlbreakaway","cdlclosingmarubozu","cdlconcealbabyswall","cdlcounterattack","cdldarkcloudcover","cdldoji","cdldojistar","cdldragonflydoji","cdlengulfing","cdleveningdojistar","cdleveningstar","cdlgapsidesidewhite","cdlgravestonedoji","cdlhammer","cdlhangingman","cdlharami","cdlharamicross","cdlhighwave","cdlhikkake","cdlhikkakemod","cdlhomingpigeon","cdlidentical3crows","cdlinneck","cdlinvertedhammer","cdlkicking","cdlkickingbylength","cdlladderbottom","cdllongleggeddoji","cdllongline","cdlmarubozu","cdlmatchinglow","cdlmathold","cdlmorningdojistar","cdlmorningstar","cdlonneck","cdlpiercing","cdlrickshawman","cdlrisefall3methods","cdlseparatinglines","cdlshootingstar","cdlshortline","cdlspinningtop","cdlstalledpattern","cdlsticksandwich","cdltakuri","cdltasukigap","cdlthrusting","cdltristar","cdlunique3river","cdlupsidegap2crows","cdlxsidegap3methods"]),x=[].concat(s()(h),["ind","ad","adosc","adx","adxr","ao","apo","aroon","aroonosc","atr","bop","cci","cmo","cvi","di","dm","dpo","dx","emv","fisher","fosc","ht_dcperiod","ht_dcphase","ht_phasor","ht_sine","ht_trendmode","kvo","linregintercept","linregslope","macd","macdext","macdfix","marketfi","mass","mfi","minus_di","minus_dm","mom","msw","natr","nvi","obv","plus_di","plus_dm","ppo","pvi","qstick","roc","rocp","rocr","rocr100","rsi","sar","sarext","stoch","stochf","stochrsi","tr","trange","trix","ultosc","uo","vhf","volatility","vosc","wad","willr"]),v={name:"VueEchartWrapper",props:["candles","trades","indicators"],mounted:function(){this.extendDimensions(),this.preparedOptions=this.updateCandles()},components:{chart:l["a"]},computed:{dynOptions:function(){return this.preparedOptions}},data:function(){return{dynHeight:300,marketLineThreshold:500,selectedIndicator:null,indicatorChartGroups:[],preparedOptions:null,dimensions:[{name:"low",type:"number",displayName:"Low"},{name:"high",type:"number",displayName:"High"},{name:"open",type:"number",displayName:"Open"},{name:"close",type:"number",displayName:"Close"},{name:"volume",type:"number",displayName:"Volume"},{name:"start",type:"category",displayName:"Start"}],upColor:"#00da3c",downColor:"#ec0000"}},methods:{extendDimensions:function(){var t=this;c.a.isEmpty(this.indicators)||c.a.each(Object.keys(t.indicators),(function(e){var a=t.indicators[e];c.a.each(a.indicators,(function(e,a){a.split(/\_(?=\_)/);var r=a.split(/\_(?=\_)/)[0],i=t.checkForDisplayType(r),n=!1,s=1;switch(r){case"topleft":r="ind",n=!0,s=1;break;case"topright":r="ind",n=!0,s=2;break;case"midleft":r="ind",n=!0,s=3;break;case"midright":r="ind",n=!0,s=4;break;case"botleft":r="ind",n=!0,s=5;break;case"botright":r="ind",n=!0,s=6;break;default:break}if(!c.a.isEmpty(e)||!c.a.isNull(e)&&!c.a.isUndefined(e))if(c.a.isObject(e))c.a.each(e,(function(e,r){var o=a+"_"+r,c=t.dimensions;t.createIndicator(e,o,i,n,s,c)}));else{var o=a,l=t.dimensions;t.createIndicator(e,o,i,n,s,l)}}))}))},createIndicator:function(t,e,a,r,i,n){var s={};s["displayType"]=a,s["name"]=e,s["type"]="number",r?(s["group_fixed"]=!0,s["group"]=i):(s["group_fixed"]=!1,s["group"]=1),s["max"]=t,s["min"]=t;var o=c.a.findIndex(n,{name:s.name});if(-1===o)n.push(s);else{var l=n[o];if(l.max<s.max?n[o].max=s.max:l.min<s.min&&(n[o].min=s.min),"indicator"===s.displayType&&!r){l=n[o];var d=l.max,u=l.min,h=l.group;d>1e4||u<-1e4?n[o].group=6:(d>1e3&&d<=1e4||u<-1e3&&u>=-1e4)&&h<5?n[o].group=5:(d>100&&d<=1e3||u<-100&&u>=-1e3)&&h<4?n[o].group=4:(d>50&&d<=100||u<-50&&u>=-100)&&h<3?n[o].group=3:(d>1&&d<=50||u<-1&&u>=-50)&&h<2&&(n[o].group=2)}}},extendCandlesWithIndicatorValues:function(){var t=this,e=this.dimensions.map((function(t){return t.name}));if(this.candles[0]){var a=Object.keys(this.candles[0]),r=c.a.difference(e,a),i=[],n=0;c.a.each(r,(function(t,e){var a=t.split(/\_/)[0];y.indexOf(a)>=0&&(i[n]=t,n++)})),c.a.isEmpty(this.indicators)||c.a.each(t.candles,(function(e,a){var n=t.indicators[a].indicators;c.a.each(n,(function(t,a){c.a.isObject(t)?c.a.each(t,(function(t,r){e["".concat(a,"_").concat(r)]=t})):e[a]=t})),c.a.each(r,(function(t,a){e[t]||(e[t]=null)})),c.a.each(i,(function(t,a){if(null!=e[t]){var r=t.slice(3),i=r.split(/\_/)[0];e[t]=e["high"];var n={};n["name"]=i,n["value"]=e["high"],n["date"]=u()(e["start"]).format("YYYY-MM-DD HH:mm:ss"),p.push(n)}}))}))}},checkForDisplayType:function(t){if(t){if(x.indexOf(t)>=0)return"indicator";if(g.indexOf(t)>=0)return"overlay";if(y.indexOf(t)>=0)return"pattern"}return"indicator"},updateCandles:function(){this.extendCandlesWithIndicatorValues();for(var t,e,a={title:{left:"center",text:"Market including trades"},renderer:"svg",tooltip:{trigger:"axis",axisPointer:{type:"cross"}},axisPointer:{link:{xAxisIndex:"all"}},xAxis:[],yAxis:[],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter"}]},r=[],i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,s=this.candles.length-1;s>=0;s--)this.candles[s].start=u()(this.candles[s].start).format("YYYY-MM-DD HH:mm:ss"),t=this.candles[s].low,e=this.candles[s].low,t<i&&(i=t),e>n&&(n=e);a.dataset={},a.dataset.source=this.candles,a.dataZoom[0].start=80,a.dataZoom[0].end=100,a.legend={top:30,data:["Market","Volume"]},a.series=[],a.series.push({name:"Market",type:"candlestick",encode:{x:"start",y:["open","close","high","low"],tooltip:["open","close","high","low"]},itemStyle:{normal:{color:this.upColor,color0:this.downColor,borderColor:this.upBorderColor,borderColor0:this.downBorderColor}},xAxisIndex:0,yAxisIndex:0}),a.series.push({name:"Volume",type:"bar",encode:{x:"start",y:"volume"},showSymbol:!1,itemStyle:{normal:{color:"#aa4845",opacity:.2}},xAxisIndex:0,yAxisIndex:1}),a.xAxis.push({type:"category"}),a.yAxis.push({scale:!0}),a.yAxis.push({scale:!0,show:!1}),a.dimensions=this.dimensions;var o=this;this.trades&&this.trades.length&&c.a.each(this.trades,(function(t){var e=u()(t.date).format("YYYY-MM-DD HH:mm:00"),a={coord:[e,t.price],name:t.action,label:{position:"sell"===t.action?"top":"bottom",distance:15},value:t.action+"\n"+t.price,symbolSize:[15,30],symbol:"arrow",symbolRotate:"sell"===t.action?180:0,symbolOffset:"sell"===t.action?[0,"-60%"]:[0,"60%"],itemStyle:{color:"sell"===t.action?o.downColor:o.upColor}};r.push(a)})),p&&p.length&&c.a.each(p,(function(t){var e={coord:[t.date,t.value],name:t.name,label:{position:"top",distance:15},value:t.name,symbolSize:[15,30],symbol:"diamond",symbolRotate:180,symbolOffset:[0,"-100%"],itemStyle:{color:"#039be5"}};r.push(e)})),(this.trades&&this.trades.length||p&&p.length)&&(a.series[0]["markPoint"]={data:r}),a.yAxis.push({scale:!0}),a.yAxis.push({scale:!0}),a.yAxis.push({scale:!0}),a.yAxis.push({scale:!0}),a.yAxis.push({scale:!0}),a.yAxis.push({scale:!0});while(a.xAxis.length<4)a.xAxis.push({type:"category",axisLabel:{show:!1}});var l=c.a.groupBy(a.dimensions,"group");c.a.each(Object.keys(l),(function(t){"undefined"!==t&&c.a.each(l[t],(function(t){if(void 0!==t){var e=2,r=0;if(t.displayType)if("overlay"===t.displayType)e=0;else if("indicator"===t.displayType){var i=t.group;1===i?(r=1,e=2):2===i?(r=1,e=3):3===i?(r=2,e=4):4===i?(r=2,e=5):5===i?(r=3,e=6):(r=3,e=7)}if("pattern"!=t.displayType){var n=null;null!==e&&(n={type:"line",encode:{x:"start",y:t.name},xAxisIndex:r,yAxisIndex:e,name:t.name,showSymbol:!1},a.legend.data.push(t.name),a.series.push(n))}}}))}));var d=a.xAxis.length;if(this.dynHeight=900,d>1){var h=[{left:60,right:60,top:"10%",height:"43%"},{left:60,right:60,top:"57%",height:"11%"},{left:60,right:60,top:"70%",height:"11%"},{left:60,right:60,top:"83%",height:"11%"}];a.grid=[];for(var f=0;f<=d-1;f++)a.grid.push(h[f]);a.xAxis[1]["gridIndex"]=1,a.yAxis[2]["gridIndex"]=1,a.yAxis[3]["gridIndex"]=1,a.xAxis[2]["gridIndex"]=2,a.yAxis[4]["gridIndex"]=2,a.yAxis[5]["gridIndex"]=2,a.xAxis[3]["gridIndex"]=3,a.yAxis[6]["gridIndex"]=3,a.yAxis[7]["gridIndex"]=3,a.dataZoom[0].xAxisIndex=[0,1,2,3]}return this.$refs.chart&&this.$refs.chart.$el&&this.$refs.chart.$el.style&&(this.$refs.chart.$el.style.height=this.dynHeight+"px"),a}},watch:{candles:function(){this.preparedOptions=this.updateCandles()},trades:function(){this.preparedOptions=this.updateCandles()}}},b=v,w=a("2877"),k=Object(w["a"])(b,r,i,!1,null,null,null);e["a"]=k.exports},"469d":function(t,e,a){"use strict";a("d25f"),a("06db"),a("cadf"),a("ac6a"),a("7514"),a("2fdb"),a("6762");var r=a("2ef0"),i=a.n(r),n=a("c1df"),s=a.n(n),o=a("2b0e");e["a"]={computed:{gekkos:function(){return this.$store.state.gekkos.gekkos},stratrunners:function(){return i.a.values(this.$store.getters["gekkos/list"]).concat(i.a.values(this.$store.getters["gekkos/archive"])).filter((function(t){return"papertrader"===t.logType||"tradebot"===t.logType}))},watchers:function(){return i.a.values(this.$store.getters["gekkos/list"]).concat(i.a.values(this.$store.getters["gekkos/archive"])).filter((function(t){return"watcher"===t.logType}))},watchConfig:function(){var t=i.a.pick(this.config,"watch","candleWriter"),e=o["a"].util.extend({},t);return e.type="market watcher",e.mode="realtime",e},requiredHistoricalData:function(){if(this.config.tradingAdvisor&&this.config.valid){var t=this.config.tradingAdvisor;return t.candleSize*t.historySize}},gekkoConfig:function(){var t;if(this.existingMarketWatcher){if(this.requiredHistoricalData){var e=s()().utc().startOf("minute").subtract(this.requiredHistoricalData,"minutes").unix(),a=s.a.utc(this.existingMarketWatcher.events.initial.candle.start).unix();t=s.a.unix(Math.max(e,a)).utc().format()}else t=s()().utc().startOf("minute").format();var r=o["a"].util.extend({market:{type:"leech",from:t},mode:"realtime"},this.config);return r}},existingMarketWatcher:function(){var t=o["a"].util.extend({},this.watchConfig.watch);return i.a.find(this.gekkos,{config:{watch:t}})},exchange:function(){return this.watchConfig.watch.exchange},existingTradebot:function(){var t=this;return i.a.find(this.gekkos,(function(e){return"tradebot"===e.logType&&e.config.watch.exchange===t.exchange}))},availableApiKeys:function(){return this.$store.state.config.apiKeys}},watch:{existingMarketWatcher:function(t,e){var a=this;if(this.pendingStratrunner){var r=this.existingMarketWatcher;r.events.latest.candle&&(this.pendingStratrunner=!1,this.startGekko().then((function(t){return a.routeToGekko(null,t.data)})).catch((function(t){return a.routeToGekko(t,resp.data)})))}}},methods:{updateConfig:function(t){this.config=t},start:function(){var t=this;if("tradebot"===this.config.type||this.config.type.label&&"tradebot"===this.config.type.label.toLowerCase()){if(this.existingTradebot){var e="You already have a tradebot running on this exchange";return e+=", you can only run one tradebot per exchange.",this.$q.dialog({title:"Bot already running",color:"warning",message:e})}if(!this.availableApiKeys.includes(this.exchange))return this.$q.dialog({title:"No API Keys found",color:"warning",message:"Please first configure API keys for this exchange in the config page."})}"market watcher"===this.config.type||this.config.type.label&&"market watcher"===this.config.type.label.toLowerCase()?this.existingMarketWatcher?(this.$q.dialog({title:"Market is already being watched",message:"This market is already being watched, redirecting you now..."}),this.$router.push({path:"/live-gekkos/".concat(this.existingMarketWatcher.id)})):this.startWatcher().then((function(e){t.$q.notify({type:"positive",message:"Watcher sucessfully started."}),t.$router.push({path:"/live-gekkos/".concat(e.data.id)})})).catch((function(e){t.$q.notify({type:"negative",message:"Error while starting market watcher."})})):this.existingMarketWatcher?this.startGekko().then((function(e){return t.routeToGekko(null,e.data)})).catch((function(e){return t.routeToGekko(e,resp.data)})):this.startWatcher().then((function(e){t.pendingStratrunner=e.data.id,t.$q.notify({type:"positive",message:"Watcher sucessfully started."})}))},routeToGekko:function(t,e){if(t||e.error)return this.$q.notify({type:"negative",message:"Error while starting live gekko."}),console.error(t,e.error);this.$router.push({path:"/live-gekkos/".concat(e.id)})},startWatcher:function(){return this.$axios.post(this.$store.state.config.apiBaseUrl+"startGekko",this.watchConfig)},startGekko:function(){return this.$axios.post(this.$store.state.config.apiBaseUrl+"startGekko",this.gekkoConfig)}}}},ae5a:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col"},[a("q-btn",{attrs:{color:"primary"},on:{click:function(e){return e.preventDefault(),t.switchToggle(e)}}},[t._v("Change paper trader settings")])],1),a("div",{staticClass:"col"},["open"===t.toggle?a("q-input",{attrs:{label:"Settings",filled:!!t.rawPaperTraderParamsError,error:!!t.rawPaperTraderParamsError,"error-label":t.rawPaperTraderParamsError.message,type:"textarea",rows:"8","max-height":80,inverted:!!t.rawPaperTraderParamsError},model:{value:t.rawPaperTraderParams,callback:function(e){t.rawPaperTraderParams=e},expression:"rawPaperTraderParams"}}):t._e()],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"text-h5 q-mb-md"},[t._v("Paper Trader")])])}],n=a("fa84"),s=a.n(n),o=a("967e"),c=a.n(o),l={created:function(){var t=this;return s()(c.a.mark((function e(){var a;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get(t.$store.state.config.apiBaseUrl+"configPart/paperTrader");case 3:a=e.sent,t.rawPaperTraderParams=a.data.part,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$q.notify({type:"negative",message:"Error getting Perfomance-Analyser config from server."});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},data:function(){return{rawPaperTraderParams:"",rawPaperTraderParamsError:!1,paperTraderParams:{},toggle:"closed"}},watch:{rawPaperTraderParams:function(){this.emitConfig()}},methods:{switchToggle:function(){"open"===this.toggle?this.toggle="closed":this.toggle="open"},emitConfig:function(){this.parseParams(),this.$emit("settings",this.paperTraderParams)},parseParams:function(){try{this.paperTraderParams=toml.parse(this.rawPaperTraderParams),this.paperTraderParams.reportRoundtrips=!0,this.rawPaperTraderParamsError=!1}catch(t){this.rawPaperTraderParamsError=t,this.paperTraderParams={}}}}},d=l,u=a("2877"),h=Object(u["a"])(d,r,i,!1,null,null,null);e["a"]=h.exports},bdfd:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[t._v("Roundtrips")]),t.roundtrips&&t.roundtrips.length?a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v("Percent Wins: "),a("b",[t._v(t._s(t.getPercentWinning().toFixed(2))+" %")])]),a("div",{staticClass:"col"},[t._v("Best Win: "),a("b",{staticClass:"text-positive"},[t._v(t._s(t.getMostLeastProfitable().toFixed(2))+" %")])]),a("div",{staticClass:"col"},[t._v("Worst Loss: "),a("b",{staticClass:"text-negative"},[t._v(t._s(t.getMostLeastProfitable(!0).toFixed(2))+" %")])])]):t._e(),t.roundtrips&&t.roundtrips.length?a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col"},[t._v("Profit/Loss: "),a("b",[t._v(t._s((t.getSum()+t.getSum(!0)).toFixed(8))+" "+t._s(t.currency))])]),a("div",{staticClass:"col"},[t._v("Sum profits: "),a("b",{staticClass:"text-positive"},[t._v(t._s(t.getSum().toFixed(8))+" "+t._s(t.currency))])]),a("div",{staticClass:"col"},[t._v("Sum losses: "),a("b",{staticClass:"text-negative"},[t._v(" "+t._s(t.getSum(!0).toFixed(8))+" "+t._s(t.currency))])])]):t._e(),a("q-table",{attrs:{columns:t.tblColumns,"row-key":"id",data:t.roundtrips,pagination:{rowsPerPage:0},color:"primary",separator:"horizontal","no-data-label":"Not enough data to display."},scopedSlots:t._u([{key:"body-cell-pAndL",fn:function(e){return a("q-td",{attrs:{props:e}},[-1===Math.sign(e.value)?a("b",{staticClass:"text-negative"},[t._v(t._s(Math.sign(e.value)*e.value)+" "+t._s(t.currency))]):a("b",{staticClass:"text-positive"},[t._v(t._s(e.value)+" "+t._s(t.currency))])])}},{key:"body-cell-pAndLPercent",fn:function(e){return a("q-td",{attrs:{props:e}},[-1===Math.sign(e.value)?a("p",{staticClass:"text-negative"},[a("b",[t._v(t._s(e.value)+" %")]),a("q-icon",{attrs:{name:"arrow downward",color:"negative",size:"1.2em"}})],1):a("p",{staticClass:"text-positive"},[a("b",[t._v(t._s(e.value)+" %")]),a("q-icon",{attrs:{name:"arrow upward",color:"positive",size:"1.2em"}})],1)])}}])})],1)},i=[],n=a("c49e"),s=a("2ef0"),o=a.n(s),c={props:["roundtrips","currency","asset"],mixins:[n["a"]],data:function(){return{}},computed:{tblColumns:function(){var t=this;return[{name:"entryAt",label:"Entry at (UTC)",field:function(e){return t.$options.filters.formatFromUnix(e.entryAt)},sortable:!1},{name:"exitAt",label:"Exit at (UTC)",field:function(e){return t.$options.filters.formatFromUnix(e.exitAt)},sortable:!1},{name:"exposure",label:"Exposure",field:function(e){return t.$options.filters.humanizeMoment(e.duration)},sortable:!1},{name:"entryBalance",label:"Entry balance",field:function(t){return(+t.entryBalance).toFixed(3)},sortable:!1},{name:"exitBalance",label:"Exit balance",field:function(t){return(+t.exitBalance).toFixed(3)},sortable:!1},{name:"pAndL",label:"P&L",field:function(t){return t.pnl.toFixed(8)},sortable:!1},{name:"pAndLPercent",label:"%",field:function(t){return t.profit.toFixed(2)},sortable:!1}]}},methods:{getMostLeastProfitable:function(t){if(this.roundtrips&&this.roundtrips.length){var e=0;if(t){if(e=o.a.get(o.a.minBy(this.roundtrips,"profit"),"profit"),e>0)return 0}else if(e=o.a.get(o.a.maxBy(this.roundtrips,"profit"),"profit"),e<0)return 0;return e}return 0},getPercentWinning:function(){var t=0;return this.roundtrips&&this.roundtrips.length?(o.a.each(this.roundtrips,(function(e){e.profit>0&&t++})),100*t/this.roundtrips.length):0},getSum:function(t){return this.roundtrips&&this.roundtrips.length?!0===t?o.a.sumBy(this.roundtrips,(function(t){return t.profit<0?t.pnl:0})):o.a.sumBy(this.roundtrips,(function(t){return t.profit>0?t.pnl:0})):0}}},l=c,d=a("2877"),u=Object(d["a"])(l,r,i,!1,null,null,null);e["a"]=u.exports},be78:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-select",{attrs:{dense:"",label:"Exchange",hint:"Pick an exchange",options:t.exchangeList,"emit-value":"","map-options":""},model:{value:t.exchange,callback:function(e){t.exchange=e},expression:"exchange"}})},i=[],n=(a("6d67"),a("456d"),a("f751"),a("2ef0")),s=a.n(n),o={props:["onlyTradable","onlyImportable"],data:function(){return{exchange:"binance"}},created:function(){this.emitExchange()},computed:{exchangeList:function(){return s.a.map(Object.keys(this.exchanges),(function(t,e){return{value:t,label:t}}))},exchanges:function(){var t=Object.assign({},this.$store.state.config.exchanges);return!s.a.isEmpty(t)&&(this.onlyTradable&&s.a.each(t,(function(e,a){e.tradable||delete t[a]})),this.onlyImportable&&s.a.each(t,(function(e,a){e.importable||delete t[a]})),t)}},watch:{exchanges:function(){this.emitExchange()},exchange:function(){this.emitExchange()}},methods:{emitExchange:function(){this.$emit("exchange",this.exchange)}}},c=o,l=a("2877"),d=Object(l["a"])(c,r,i,!1,null,null,null);e["a"]=d.exports},c41d:function(t,e,a){"use strict";a("d25f");var r=a("af47"),i=a("c1df"),n=a.n(i),s=a("8f14"),o=a.n(s),c={data:function(){return{datasets:[],datasetScanstate:"idle",unscannableMakets:[],tblColumns:[{name:"exchange",label:"Exchange",field:"exchange",sortable:!0},{name:"currency",label:"Currency",field:"currency",sortable:!0},{name:"asset",label:"Asset",field:"asset",sortable:!0},{name:"from",label:"From",field:function(t){return n.a.utc(t.from).format("YYYY-MM-DD hh:mm")},sortable:!0},{name:"to",label:"To",field:function(t){return n.a.utc(t.to).format("YYYY-MM-DD hh:mm")},sortable:!0},{name:"duration",label:"Duration",field:function(t){return o()(t.to.diff(t.from))},sortable:!1}]}},methods:{scan:function(){var t=this;this.datasetScanstate="scanning",this.$axios.post(r["a"]+"scansets",{}).then((function(e){var a=e.data;t.datasetScanstate="scanned",t.unscannableMakets=a.errors;var r=[];a.datasets.forEach((function(t){t.ranges.forEach((function(e,a){r.push({exchange:t.exchange,currency:t.currency,asset:t.asset,from:n.a.unix(e.from).utc(),to:n.a.unix(e.to).utc(),id:t.exchange+t.asset+t.currency+a})}))})),r=r.filter((function(t){if(t.to.diff(t.from,"hours")>2)return!0})),r=r.sort((function(t,e){var a=t.to.diff(t.from),r=e.to.diff(e.from);return a<r?-1:a>r?1:0})).reverse(),t.datasets=r})).catch((function(e){t.$q.notify({type:"negative",message:"Error getting scan data from API"})}))}}};e["a"]=c},c49e:function(t,e,a){"use strict";a("06db"),a("6b54");var r=a("c1df"),i=a.n(r),n=a("8f14"),s=a.n(n);e["a"]={filters:{formatDate:function(t){return""===t?"":i.a.utc(t).format("YYYY-MM-DD HH:mm")},formatFromUnix:function(t){return""===t?"":"NaN"===parseInt(t).toString()||parseInt(t)<1e4?i.a.utc(t).format("YYYY-MM-DD HH:mm"):i.a.unix(t).utc().format("YYYY-MM-DD HH:mm")},humanizeMoment:function(t){return i.a.duration(t).humanize()},durationHumanized:function(t){return s()(t,{largest:4})},timespan:function(t,e){return s()(i()(t).diff(i()(e)))}}}},e81c:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticClass:"q-mr-md"},[a("q-card-section",{staticClass:"bg-blue-grey-8 text-white"},[a("div",{staticClass:"text-h6"},[t._v("Market")])]),a("q-separator"),a("q-card-section",[a("exchange-picker",{attrs:{onlyTradable:t.onlyTradable,onlyImportable:t.onlyImportable},on:{exchange:function(e){return t.setExchange(e)}}})],1),a("q-separator"),a("q-card-section",[a("q-select",{attrs:{label:"Currency",hint:"Pick a currency as base",options:t.currencies,"map-options":"","emit-value":""},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}})],1),a("q-separator"),a("q-card-section",[a("q-select",{attrs:{label:"Asset",hint:"Pick an asset",options:t.assets,"map-options":"","emit-value":""},model:{value:t.asset,callback:function(e){t.asset=e},expression:"asset"}})],1)],1)},i=[],n=(a("f751"),a("6d67"),a("06db"),a("cadf"),a("ac6a"),a("2ef0")),s=a.n(n),o=a("be78"),c={props:["onlyTradable","onlyImportable"],components:{exchangePicker:o["a"]},data:function(){return{exchange:"binance",currency:"BTC",asset:"NEO"}},created:function(){this.emitConfig()},computed:{exchanges:function(){var t=Object.assign({},this.$store.state.config.exchanges);return!s.a.isEmpty(t)&&(this.onlyTradable&&s.a.each(t,(function(e,a){e.tradable||delete t[a]})),this.onlyImportable&&s.a.each(t,(function(e,a){e.importable||delete t[a]})),t)},markets:function(){return this.exchanges?this.exchanges[this.exchange]:null},assets:function(){var t=this.exchanges?this.exchanges[this.exchange].markets[this.currency]:[];return t&&(t=s.a.orderBy(s.a.map(t,(function(t){return{value:t,label:t}})),["label"],["asc"]),t.length&&(this.asset=t[0].value)),t},currencies:function(){var t=this.exchanges?s.a.keys(this.exchanges[this.exchange].markets):[];return t&&(t=s.a.orderBy(s.a.map(t,(function(t){return{value:t,label:t}})),["label"],["asc"]),t.length&&(this.currency=t[0].value)),t},watchConfig:function(){return{watch:{exchange:this.exchange,currency:this.currency,asset:this.asset}}}},watch:{currency:function(){this.emitConfig()},asset:function(){this.emitConfig()},market:function(){this.emitConfig()},exchanges:function(){this.emitConfig()},exchange:function(){this.emitConfig()}},methods:{setExchange:function(t){this.exchange=t},emitConfig:function(){this.$emit("market",this.watchConfig)}}},l=c,d=a("2877"),u=Object(d["a"])(l,r,i,!1,null,null,null);e["a"]=u.exports},e969:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-my-md"},[t._m(0),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col"},[a("q-select",{attrs:{label:"Strategy",hint:"Pick a strategy",filter:"","autofocus-filter":"",options:t.strategiesForList,"map-options":"","emit-value":""},model:{value:t.strategy,callback:function(e){t.strategy=e},expression:"strategy"}}),a("div",{staticClass:"row q-col-gutter-xs"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{label:"Candle Size",hint:"input a candle size",type:"number"},model:{value:t.rawCandleSize,callback:function(e){t.rawCandleSize=e},expression:"rawCandleSize"}})],1),a("div",{staticClass:"col"},[a("q-select",{attrs:{label:"Unit",options:t.candleSizeUnits,hint:"Candlesize unit","map-options":"","emit-value":""},model:{value:t.candleSizeUnit,callback:function(e){t.candleSizeUnit=e},expression:"candleSizeUnit"}})],1)]),a("q-input",{attrs:{label:"Warmup period (in "+t.rawCandleSize+" "+t.singularCandleSizeUnit+" candles):",hint:"(will use "+t.warmupHumanized+" of data as history)",type:"number"},model:{value:t.historySize,callback:function(e){t.historySize=e},expression:"historySize"}})],1),a("div",{staticClass:"col"},[a("q-input",{staticClass:"text-italic",attrs:{label:t.strategy+" Parameters:",type:"textarea",hint:"Adjust parameters here",rows:"10","max-height":100,filled:!!t.rawStratParamsError,error:!!t.rawStratParamsError,"error-label":t.rawStratParamsError.message},model:{value:t.rawStratParams,callback:function(e){t.rawStratParams=e},expression:"rawStratParams"}})],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-h5"},[t._v("Strategy")])]),a("div",{staticClass:"col"},[a("div",{staticClass:"text-h5"},[t._v("Parameters")])])])}],n=(a("7514"),a("23bf"),a("2ef0")),s=a.n(n),o=a("8f14"),c=a.n(o),l=(a("6d67"),a("7f7f"),a("af47")),d={data:function(){return{strategies:[]}},computed:{strategiesForList:function(){return s.a.map(this.strategies,(function(t){return{value:t.name,label:t.name}}))}},methods:{getStrategies:function(){var t=this;this.$axios.get(l["a"]+"strategies").then((function(e){t.strategies=e.data,s.a.each(t.strategies,(function(t){t.empty=""===t.params})),t.rawStratParams=s.a.find(t.strategies,{name:t.strategy}).params,t.emptyStrat=s.a.find(t.strategies,{name:t.strategy}).empty,t.emitConfig()})).catch((function(e){t.$q.notify({type:"negative",message:"Error getting strategies from server."})}))}}},u={mixins:[d],data:function(){return{candleSizeUnits:[{label:"minutes",value:"minutes"},{label:"hours",value:"hours"},{label:"days",value:"days"}],candleSizeUnit:"hours",rawCandleSize:1,strategy:"MACD",historySize:10,rawStratParams:"",rawStratParamsError:!1,emptyStrat:!1,stratParams:{}}},created:function(){this.getStrategies()},watch:{strategy:function(t){t=s.a.find(this.strategies,{name:t}),this.rawStratParams=t.params,this.emptyStrat=t.empty,this.emitConfig()},candleSize:function(){this.emitConfig()},historySize:function(){this.emitConfig()},rawStratParams:function(){this.emitConfig()}},computed:{warmupHumanized:function(){return c()(this.candleSize*this.historySize*1e3*60)},candleSize:function(){return"minutes"===this.candleSizeUnit?this.rawCandleSize:"hours"===this.candleSizeUnit?60*this.rawCandleSize:"days"===this.candleSizeUnit?60*this.rawCandleSize*24:void 0},singularCandleSizeUnit:function(){return this.candleSizeUnit.slice(0,-1)},config:function(){var t={tradingAdvisor:{enabled:!0,method:this.strategy,candleSize:+this.candleSize,historySize:+this.historySize}};return this.emptyStrat?t[this.strategy]={__empty:!0}:t[this.strategy]=this.stratParams,t}},methods:{emitConfig:function(){this.parseParams(),this.$emit("stratConfig",this.config)},parseParams:function(){try{this.stratParams=toml.parse(this.rawStratParams),this.rawStratParamsError=!1}catch(t){this.rawStratParamsError=t,this.stratParams={}}}}},h=u,f=a("2877"),m=Object(f["a"])(h,r,i,!1,null,null,null);e["a"]=m.exports}}]);