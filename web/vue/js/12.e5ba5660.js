(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"031f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("q-page",{attrs:{padding:""}},[t("config")],1)},a=[],s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"text-h4 q-mb-md"},[e._v("Configuration")]),t("p",[e._v("Configure API Keys and other stuff here.")]),t("div",{staticClass:"text-h5"},[e._v("API Keys")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("q-list",{staticClass:"q-my-md",attrs:{separator:"",bordered:""}},[t("q-item-label",{attrs:{header:""}},[e._v("Available API Keys")]),t("q-separator"),e.apiKeySets.length?e._l(e.apiKeySets,(function(n){return t("q-item",{key:n},[t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{color:"secondary",name:"vpn_key"}})],1),t("q-item-section",[t("q-item-label",{staticClass:"text-uppercase"},[e._v(e._s(n))])],1),t("q-item-section",{attrs:{side:"",right:""}},[t("q-item-section",[t("q-btn",{attrs:{flat:"",round:"",color:"red",icon:"delete_forever"},on:{click:function(t){return t.preventDefault(),e.removeApiKey(n)}}})],1)],1)],1)})):t("q-item",[t("q-item-label",[e._v("You do not have any API Keys setup.")])],1)],2)],1)]),e.addApiToggle?e._e():t("div",{staticClass:"row q-pa-sm",on:{click:function(t){return t.preventDefault(),e.openAddApi.apply(null,arguments)}}},[t("q-btn",{attrs:{color:"primary",icon:"add_circle_outline",label:"Add API key"}})],1),e.addApiToggle?t("api-config-builder"):e._e()],1)},c=[],r=n("7ec2"),o=n.n(r),l=n("c973"),u=n.n(l),d=n("af47"),p={methods:{deleteApiKey:function(e){return this.$axios.post(d["a"]+"removeApiKey",{exchange:e})},newApiKey:function(e){return this.$axios.post(d["a"]+"addApiKey",e)}}},h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row q-col-gutter-md justify-around items-baseline"},[e._m(0),t("div",{staticClass:"col-lg-6 col-md-12 q-col-gutter-md"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("div",{staticClass:"text-h5"},[e._v("API Key data")]),t("exchange-picker",{attrs:{"only-tradeable":!0},on:{exchange:e.updateExchange}}),e._l(e.requires,(function(n,i){return t("q-input",{key:i,attrs:{label:n},model:{value:e.credentials[n],callback:function(t){e.$set(e.credentials,n,t)},expression:"credentials[cred]"}})})),t("q-btn",{staticClass:"q-mt-md",attrs:{color:"primary",label:"Add API Key",disable:!e.fieldsValid},on:{click:function(t){return t.preventDefault(),e.upload.apply(null,arguments)}}})],2)]),t("div",{staticClass:"row"})])])},f=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-6 col-md-12"},[t("div",{staticClass:"text-h5"},[e._v("Add an API key")]),t("div",{staticClass:"text-subtitle1"},[e._v("Make sure that the API key has the permissions to "),t("b",[e._v("create")]),e._v(" and "),t("b",[e._v("cancel\n      orders")]),e._v(" and "),t("b",[e._v("view balances")]),e._v(".\n    ")])])}],v=(n("4160"),n("d3b7"),n("159b"),n("498a"),n("caad"),n("2532"),n("be78")),g=(n("2ef0"),{mixins:[p],data:function(){return{exchange:!1,credentials:{}}},components:{exchangePicker:v["a"]},computed:{fieldsValid:function(){var e=!0,t=this;return this.requires.forEach((function(n){t.credentials[n]&&""!==t.credentials[n].trim()||(e=!1)})),e},apiKeySets:function(){return this.$store.state.config.apiKeys},exchanges:function(){return this.$store.state.config.exchanges},requires:function(){return this.exchanges&&this.exchange?this.exchanges[this.exchange].requires:[]},config:function(){var e={exchange:this.exchange,values:this.credentials};return e}},watch:{credentials:function(){this.emitConfig()}},methods:{updateExchange:function(e){this.credentials={},this.exchange=e,this.emitConfig()},emitConfig:function(){this.$emit("config",this.config)},upload:function(){var e=this,t=this.config.exchange;this.exchanges&&this.apiKeySets.includes(t)?this.$q.dialog({title:"Confirm Overwrite",message:"You already have an API key for [".concat(t,"] defined, do you want to overwrite them?"),cancel:!0,persistent:!0}).onOk((function(){e.uploadApiKey()})).onCancel((function(){})):this.uploadApiKey()},uploadApiKey:function(){var e=this;return u()(o()().mark((function t(){var n;return o()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.config.exchange,t.prev=1,t.next=4,e.newApiKey(e.config);case 4:e.$q.notify({color:"positive",message:"API Key for [".concat(n,"] set."),icon:"check_circle"}),e.credentials={},t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$q.dialog({title:"Error",message:"Error setting new API Key: ".concat(t.t0),color:"negative",icon:"error"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}}),m=g,y=n("2877"),A=n("27f9"),x=n("9c40"),b=n("eebe"),_=n.n(b),q=Object(y["a"])(m,h,f,!1,null,null,null),K=q.exports;_()(q,"components",{QInput:A["a"],QBtn:x["a"]});var w={mixins:[p],components:{apiConfigBuilder:K},data:function(){return{addApiToggle:!1}},methods:{openAddApi:function(){this.addApiToggle=!0},removeApiKey:function(e){var t=this;this.$q.dialog({title:"API Key removal",message:"Are you sure you want to delete the API key for ".concat(e,"?"),cancel:!0,persistent:!0}).onOk(u()(o()().mark((function n(){return o()().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.deleteApiKey(e);case 3:t.$q.notify({message:"API-Key for [".concat(e,"] has been removed."),color:"positive",icon:"check_circle"}),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),t.$q.notify({message:"An error occured while removing the API Key!",color:"negative",icon:"error"});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).onCancel((function(){}))}},computed:{apiKeySets:function(){return this.$store.state.config.apiKeys}},watch:{apiKeySets:function(){this.addApiToggle=!1}}},C=w,k=n("1c1c"),I=n("0170"),P=n("eb85"),$=n("66e5"),Q=n("4074"),S=n("0016"),O=Object(y["a"])(C,s,c,!1,null,null,null),E=O.exports;_()(O,"components",{QList:k["a"],QItemLabel:I["a"],QSeparator:P["a"],QItem:$["a"],QItemSection:Q["a"],QIcon:S["a"],QBtn:x["a"]});var T={name:"ConfigPage",components:{config:E}},j=T,B=n("9989"),D=Object(y["a"])(j,i,a,!1,null,null,null);t["default"]=D.exports;_()(D,"components",{QPage:B["a"]})}}]);